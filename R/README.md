

Need to add information about the hardware setup that these functions were written for

One beam breaker pair sits in front of an RFID antenna (outside of the container, the "outer" pair), and the other sits behind the RFID antenna (mounted for detections inside of the container, the "inner" pair). The camera records into the center of the nest container from above. 


Then a description of each function
Possibly add a function to see how much of the original detections were dropped / retained after each pre-processing and integration step?


This RFID and beam breaker integration is a separate function because the way in which the sensors are set up to detect movement determines how the lag calculations and integration should be performed. In other words, it is difficult to make a general function to integrate data collected across any two types of sensors used in the tracking system. This function was written to integrate data across 1 RFID antenna and the outer pair of beam breakers mounted around the entrance of a nest container that was designed for zebra finches. For nest container entrance events, the integration is done by finding RFID timestamps that occurred within the lower to upper thresholds after the outer beam breaker. For nest container exit events, the integration is done by finding RFID timestamps that occurred within the lower to upper thresholds before the outer beam breaker. This matching is less strict than trying to find sequences of events in which the outer beam breakers, RFID antenna, and inner beam breakers triggered in that exact order (given that the way in which birds arrive or perch in the entrance can lead to variation in this expected sequence). In other words, these events will not represent perfect sequences of outer beam breakers, then RFID, then inner beam breakers triggering, but rather, RFID detections that occurred within the expected thresholds and before or after an outer beam breaker event that was already matched to an inner beam breaker even


This function was written to integrate data across 1 RFID antenna and 1 camera mounted on a nest container. The RFID antenna sits in the middle of a circular entrance, and the camera records into the center of the nest container from above. This function integrates detections across these 2 sensor types regardless of whether or not these detections occurred during perching events captured by the RFID antenna (see `find_rfid_perching_events`). The reason for this is that some perching events may have started or ended as entrance or exit events, and it's important to retain those events at this stage. If it becomes important later to remove behavioral events that were associated with longer perching events, then this can be done by filtering out detections from the integrated dataset that overlap in time with perching events. This function uses the direction of temporal differences between the RFID and video timestamps to make inferences about entrances and exits, which can be compared to entrances and exits detected by the beam breakers. The direction of movement is "none" for RFID timestamps that occurred after the onset of video recording but were inferred to not be part of the original movement that triggered video recording


 This beam breaker and video integration is a separate function because the way in which the sensors are set up to detect movement determines how the lag calculations and integration should be performed. In other words, it is difficult to make a general function to integrate data collected across any two types of sensors used in the tracking system. This function was written to integrate data across 2 pairs of beam breakers and 1 camera mounted around the entrance of a nest container that was designed for zebra finches. This function integrates detections across these 2 sensor types regardless of whether or not these detections occurred during perching events captured by the RFID antenna (see `find_rfid_perching_events`). The reason for this is that some perching events may have started or ended as entrance or exit events, and it's important to retain those events at this stage. If it becomes important later to remove behavioral events that were associated with longer perching events, then this can be done by filtering out detections from the integrated dataset that overlap in time with perching events. Other things to note are that the assignment of beam breaker events to video events will lead to duplicated assignments when using the `temporal` method. This is the expected behavior, and most duplicates should arise from assigning beam breaker events to the remainder of the video recording duration after the "original" movement that triggered video recording (e.g. `post-motion_trigger` in the rfid_video_movement_inference column)


Applies to all functions: This function must be executed across experimental setups if the tracking system was used to collect data for serial or parallel experimental replicates.